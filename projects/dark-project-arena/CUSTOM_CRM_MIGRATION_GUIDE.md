# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ Dark Project Arena —Å –ë–∏—Ç—Ä–∏–∫—Å24 –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—É—é CRM

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç Dark Project Arena –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ë–∏—Ç—Ä–∏–∫—Å24 –≤ –∫–∞—á–µ—Å—Ç–≤–µ CRM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–¥–∞–º–∏, –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞—à–µ–π –∫–∞—Å—Ç–æ–º–Ω–æ–π CRM.

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–∏—Ç—Ä–∏–∫—Å24

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API endpoints

–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ workflow —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –ë–∏—Ç—Ä–∏–∫—Å24 API:

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏ (Leads)**:
   - `crm.lead.list` - –ø–æ–∏—Å–∫ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–∏–¥–æ–≤
   - `crm.lead.add` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ª–∏–¥–æ–≤
   - `crm.lead.update` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ª–∏–¥–æ–≤
   - `crm.lead.get` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ª–∏–¥–µ

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏**:
   - `crm.contact.get` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω—Ç–∞–∫—Ç–µ

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∞–º–∏**:
   - `crm.deal.get` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–¥–µ–ª–∫–µ

4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏**:
   - `tasks.task.add` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏**:
   - `crm.activity.add` - —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–∑–≤–æ–Ω–∫–∏, –≤—Å—Ç—Ä–µ—á–∏)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è –¥–ª—è –ª–∏–¥–æ–≤:

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è**:
- `ID` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `TITLE` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª—É–±–∞
- `STATUS_ID` - —Å—Ç–∞—Ç—É—Å –ª–∏–¥–∞ (NEW, IN_PROGRESS, PROCESSED, CONVERTED, JUNK)
- `PHONE` - –º–∞—Å—Å–∏–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- `EMAIL` - –º–∞—Å—Å–∏–≤ email –∞–¥—Ä–µ—Å–æ–≤
- `COMMENTS` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `ADDRESS_CITY` - –≥–æ—Ä–æ–¥
- `SOURCE_ID` - –∏—Å—Ç–æ—á–Ω–∏–∫ –ª–∏–¥–∞
- `SOURCE_DESCRIPTION` - –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (UF_CRM_*)**:
- `UF_CRM_TELEGRAM` - Telegram ID/username
- `UF_CRM_WHATSAPP` - WhatsApp –Ω–æ–º–µ—Ä
- `UF_CRM_VK` - VKontakte —Å—Å—ã–ª–∫–∞
- `UF_CRM_INSTAGRAM` - Instagram username
- `UF_CRM_WEBSITE` - —Å–∞–π—Ç –∫–ª—É–±–∞
- `UF_CRM_IS_CHAIN` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–µ—Ç—å—é (Y/N)
- `UF_CRM_BRAND` - –±—Ä–µ–Ω–¥ —Å–µ—Ç–∏
- `UF_CRM_BRANCH_COUNT` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–ª–∏–∞–ª–æ–≤
- `UF_CRM_ESTIMATED_PCS` - –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤
- `UF_CRM_PRIORITY` - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-10)
- `UF_CRM_LEAD_SCORE` - –æ—Ü–µ–Ω–∫–∞ –ª–∏–¥–∞
- `UF_CRM_DIALOG_HISTORY` - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ (JSON)
- `UF_CRM_LAST_CONTACT` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `UF_CRM_CONTACT_COUNT` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- `UF_CRM_PREFERRED_CHANNEL` - –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏
- `UF_CRM_ENRICHED_AT` - –¥–∞—Ç–∞ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üöÄ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤–∞—à–µ–π CRM

–î–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ workflow, –≤–∞—à–∞ CRM –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

#### 1.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏

```http
POST /api/leads/search
```
–ü–æ–∏—Å–∫ –ª–∏–¥–æ–≤ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º (—Ç–µ–ª–µ—Ñ–æ–Ω, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ—Ä–æ–¥)

Request:
```json
{
  "filter": {
    "phone": "+79991234567",
    "title": "Gaming Club",
    "city": "Moscow"
  },
  "select": ["id", "title", "status", "phone", "email", "custom_fields"],
  "limit": 50
}
```

Response:
```json
{
  "result": [
    {
      "id": "123",
      "title": "Gaming Club Moscow",
      "status": "new",
      "phone": [{"value": "+79991234567", "type": "work"}],
      "email": [{"value": "club@example.com", "type": "work"}],
      "custom_fields": {
        "telegram": "@club_moscow",
        "estimated_pcs": 50
      }
    }
  ],
  "total": 1
}
```

```http
POST /api/leads/create
```
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–∏–¥–∞

Request:
```json
{
  "title": "Gaming Club Name",
  "status": "new",
  "phone": [{"value": "+79991234567", "type": "work"}],
  "email": [{"value": "club@example.com", "type": "work"}],
  "city": "Moscow",
  "comments": "–ù–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ Yandex Maps",
  "custom_fields": {
    "telegram": "@gaming_club",
    "is_chain": true,
    "estimated_pcs": 30
  }
}
```

Response:
```json
{
  "result": {
    "id": "124"
  }
}
```

```http
POST /api/leads/{id}/update
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ª–∏–¥–∞

```http
GET /api/leads/{id}
```
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–∏–¥–µ

#### 1.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

```http
POST /api/tasks/create
```
–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞

Request:
```json
{
  "title": "–°–≤—è–∑–∞—Ç—å—Å—è —Å Gaming Club Moscow",
  "description": "–ì–æ—Ä—è—á–∏–π –ª–∏–¥, –≥–æ—Ç–æ–≤ –∫ –ø–æ–∫—É–ø–∫–µ",
  "responsible_id": 1,
  "deadline": "2025-01-20T10:00:00",
  "entity_type": "lead",
  "entity_id": "124"
}
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞ –¥–ª—è –≤–∞—à–µ–π CRM

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –ë–∏—Ç—Ä–∏–∫—Å24 –≤ —Ñ–æ—Ä–º–∞—Ç –≤–∞—à–µ–π CRM:

```javascript
// crm-adapter.js
class CRMAdapter {
  constructor(crmBaseUrl, apiKey) {
    this.baseUrl = crmBaseUrl;
    this.apiKey = apiKey;
  }

  // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –ë–∏—Ç—Ä–∏–∫—Å24 –≤ —Ñ–æ—Ä–º–∞—Ç –≤–∞—à–µ–π CRM
  async translateBitrix24Request(method, params) {
    switch(method) {
      case 'crm.lead.list':
        return this.searchLeads(params);
      case 'crm.lead.add':
        return this.createLead(params);
      case 'crm.lead.update':
        return this.updateLead(params);
      case 'crm.lead.get':
        return this.getLead(params);
      case 'tasks.task.add':
        return this.createTask(params);
      default:
        throw new Error(`Unsupported method: ${method}`);
    }
  }

  async searchLeads(bitrixParams) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ë–∏—Ç—Ä–∏–∫—Å24 –≤ —Ñ–æ—Ä–º–∞—Ç –≤–∞—à–µ–π CRM
    const filter = {};
    const select = [];
    
    // –ü–∞—Ä—Å–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    bitrixParams.forEach(param => {
      if (param.name.startsWith('filter[')) {
        const field = param.name.match(/filter\[(.*?)\]/)[1];
        filter[this.mapFieldName(field)] = param.value;
      } else if (param.name === 'select[]') {
        select.push(this.mapFieldName(param.value));
      }
    });

    // –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–π CRM
    const response = await fetch(`${this.baseUrl}/api/leads/search`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ filter, select })
    });

    const data = await response.json();
    
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç –ë–∏—Ç—Ä–∏–∫—Å24
    return {
      result: data.result.map(lead => this.mapLeadToB24Format(lead)),
      total: data.total
    };
  }

  // –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –º–µ–∂–¥—É –ë–∏—Ç—Ä–∏–∫—Å24 –∏ –≤–∞—à–µ–π CRM
  mapFieldName(b24Field) {
    const fieldMap = {
      'PHONE': 'phone',
      'TITLE': 'title',
      'STATUS_ID': 'status',
      'EMAIL': 'email',
      'ADDRESS_CITY': 'city',
      'UF_CRM_TELEGRAM': 'custom_fields.telegram',
      'UF_CRM_ESTIMATED_PCS': 'custom_fields.estimated_pcs',
      // –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    };
    return fieldMap[b24Field] || b24Field.toLowerCase();
  }

  mapLeadToB24Format(lead) {
    return {
      ID: lead.id,
      TITLE: lead.title,
      STATUS_ID: this.mapStatus(lead.status),
      PHONE: lead.phone,
      EMAIL: lead.email,
      ADDRESS_CITY: lead.city,
      UF_CRM_TELEGRAM: lead.custom_fields?.telegram,
      UF_CRM_ESTIMATED_PCS: lead.custom_fields?.estimated_pcs,
      // –º–∞–ø–ø–∏–Ω–≥ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    };
  }

  mapStatus(status) {
    const statusMap = {
      'new': 'NEW',
      'in_progress': 'IN_PROGRESS',
      'processed': 'PROCESSED',
      'converted': 'CONVERTED',
      'junk': 'JUNK'
    };
    return statusMap[status] || status.toUpperCase();
  }
}
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ë–∏—Ç—Ä–∏–∫—Å24 webhook:

```javascript
// proxy-server.js
const express = require('express');
const CRMAdapter = require('./crm-adapter');

const app = express();
app.use(express.json());

const adapter = new CRMAdapter(
  process.env.CUSTOM_CRM_URL,
  process.env.CUSTOM_CRM_API_KEY
);

// –≠–º—É–ª–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL –ë–∏—Ç—Ä–∏–∫—Å24
app.post('/rest/1/:webhook/:method', async (req, res) => {
  try {
    const method = req.params.method;
    const params = req.body.parameters || [];
    
    const result = await adapter.translateBitrix24Request(method, params);
    res.json(result);
  } catch (error) {
    res.json({
      error: error.message,
      error_description: error.stack
    });
  }
});

app.listen(3000, () => {
  console.log('CRM Proxy running on port 3000');
});
```

### –®–∞–≥ 4: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ n8n workflows

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∞ webhook URL (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

–ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# –ë—ã–ª–æ:
BITRIX24_WEBHOOK_URL=https://your-domain.bitrix24.ru/rest/1/your_webhook_key/

# –°—Ç–∞–ª–æ:
BITRIX24_WEBHOOK_URL=http://localhost:3000/rest/1/fake_webhook/
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–±–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ –Ω–∞–¥–µ–∂–Ω–µ–µ)

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ HTTP Request –Ω–æ–¥—ã –¥–ª—è –≤–∞—à–µ–π CRM. –ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª–∏–¥–æ–≤:

```json
{
  "name": "Search Lead in Custom CRM",
  "type": "n8n-nodes-base.httpRequest",
  "parameters": {
    "method": "POST",
    "url": "{{ $env.CUSTOM_CRM_URL }}/api/leads/search",
    "authentication": "predefinedCredentialType",
    "nodeCredentialType": "httpHeaderAuth",
    "sendBody": true,
    "bodyParameters": {
      "parameters": [
        {
          "name": "filter",
          "value": "={{ JSON.stringify({ phone: $json.searchPhone }) }}"
        },
        {
          "name": "select",
          "value": "={{ JSON.stringify(['id', 'title', 'status', 'phone', 'custom_fields']) }}"
        }
      ]
    }
  },
  "credentials": {
    "httpHeaderAuth": {
      "id": "CUSTOM_CRM_API_KEY",
      "name": "Custom CRM API Key"
    }
  }
}
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```bash
# Custom CRM Configuration
CUSTOM_CRM_URL=https://your-crm.com
CUSTOM_CRM_API_KEY=your-api-key-here

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–æ–∫—Å–∏
CRM_PROXY_URL=http://localhost:3000/rest/1/proxy/
```

## üìù –ß–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoints –≤ –≤–∞—à–µ–π CRM
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–∏–¥–æ–≤ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API –º–µ—Ç–æ–¥—ã –≤ –≤–∞—à–µ–π CRM
- [ ] –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π workflow:
  - [ ] WF-01: –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–≤—ã—Ö –∫–ª—É–±–æ–≤
  - [ ] WF-02: –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - [ ] WF-03: –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ CRM
  - [ ] WF-04: AI –∞–≥–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂
  - [ ] WF-05: –ü–µ—Ä–µ–¥–∞—á–∞ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤
  - [ ] WF-06: –ü–æ—Å—Ç–ø—Ä–æ–¥–∞–∂–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–∏—Ç—Ä–∏–∫—Å24
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö**: –ß—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ—Ö–æ–∂—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª–µ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤.

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä**: –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–Ω–æ—Å–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ workflow.

3. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API**: –î–æ–±–∞–≤—å—Ç–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–∞—à API –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ CRM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –ø–æ–Ω—è—Ç–Ω–æ–º –¥–ª—è n8n.

5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É**: –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏.

2. **–§–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤**: –ù–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞.

3. **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤**: –ü–æ–ª–µ `dialog_history` —Ö—Ä–∞–Ω–∏—Ç JSON —Å –∏—Å—Ç–æ—Ä–∏–µ–π –æ–±—â–µ–Ω–∏—è AI –∞–≥–µ–Ω—Ç–∞.

4. **–°—Ç–∞—Ç—É—Å—ã –ª–∏–¥–æ–≤**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ë–∏—Ç—Ä–∏–∫—Å24 –∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É.

5. **Webhook –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –î–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è webhook endpoints.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è n8n HTTP Request](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/)
- [–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](./README.md)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ workflow](./DOCUMENTATION_STRUCTURE.md)