{
  "name": "WF-05 Hot Lead Handoff",
  "nodes": [
    {
      "id": "bitrix-trigger-001",
      "name": "Bitrix24 Lead Status Change",
      "type": "n8n-nodes-base.bitrix24Trigger",
      "typeVersion": 1,
      "position": [260, 400],
      "parameters": {
        "eventsUi": {
          "eventValues": [
            {
              "name": "onCrmLeadUpdate"
            }
          ]
        },
        "additionalFields": {}
      },
      "credentials": {
        "bitrix24Api": {
          "id": "BITRIX24_CRM",
          "name": "Bitrix24 CRM"
        }
      }
    },
    {
      "id": "manual-trigger-001",
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [260, 500],
      "parameters": {}
    },
    {
      "id": "merge-triggers-001",
      "name": "Merge Triggers",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [460, 450],
      "parameters": {
        "mode": "combine",
        "combinationMode": "chooseBranch",
        "options": {}
      }
    },
    {
      "id": "check-hot-status-001",
      "name": "Check Hot Lead Status",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [660, 450],
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "isHotLead",
              "leftValue": "={{ $json.data?.STATUS_ID || $json.STATUS_ID }}",
              "rightValue": "HOT",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      }
    },
    {
      "id": "get-lead-details-001",
      "name": "Get Lead Details",
      "type": "n8n-nodes-base.bitrix24",
      "typeVersion": 1,
      "position": [860, 350],
      "parameters": {
        "resource": "lead",
        "operation": "get",
        "leadId": "={{ $json.data?.ID || $json.ID || $json.leadId }}"
      },
      "credentials": {
        "bitrix24Api": {
          "id": "BITRIX24_CRM",
          "name": "Bitrix24 CRM"
        }
      }
    },
    {
      "id": "prepare-handoff-data-001",
      "name": "Prepare Handoff Data",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [1060, 350],
      "parameters": {
        "functionCode": "const lead = $json;\n\n// –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–∞\nconst handoffData = {\n  leadId: lead.ID,\n  leadName: lead.TITLE || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—É–±',\n  contactName: lead.NAME || '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ',\n  phone: lead.PHONE?.[0]?.VALUE || '–ù–µ —É–∫–∞–∑–∞–Ω',\n  email: lead.EMAIL?.[0]?.VALUE || '',\n  city: lead.ADDRESS_CITY || lead.UF_CRM_CITY || '–ù–µ —É–∫–∞–∑–∞–Ω',\n  estimatedPCs: lead.UF_CRM_ESTIMATED_PCS || 15,\n  isChain: lead.UF_CRM_IS_CHAIN === 'Y',\n  branchCount: lead.UF_CRM_BRANCH_COUNT || 1,\n  telegram: lead.UF_CRM_TELEGRAM || '',\n  comments: lead.COMMENTS || '',\n  timestamp: new Date().toISOString(),\n  handoffType: 'hot_lead'\n};\n\n// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–¥–µ–ª–∫–∏\nhandoffData.dealPotential = handoffData.estimatedPCs * 50000; // 50k —Ä—É–± –∑–∞ –ü–ö\nif (handoffData.isChain) {\n  handoffData.dealPotential *= handoffData.branchCount;\n}\n\nconsole.log(`Preparing hot lead handoff for ${handoffData.leadName}`);\n\nreturn [{ json: handoffData }];"
      }
    },
    {
      "id": "generate-documents-001",
      "name": "Generate Documents",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [1260, 350],
      "parameters": {
        "functionCode": "const handoff = $json;\n\n// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ\nconst kp = {\n  title: `–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è ${handoff.leadName}`,\n  date: new Date().toLocaleDateString('ru-RU'),\n  content: `\n**–ö–û–ú–ú–ï–†–ß–ï–°–ö–û–ï –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï**\n\n–î–ª—è: ${handoff.leadName}\n–ì–æ—Ä–æ–¥: ${handoff.city}\n–ö–æ–Ω—Ç–∞–∫—Ç: ${handoff.contactName}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${handoff.phone}\n\n**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**\n\n1. **–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è Dark Project Arena**\n   - –ò–≥—Ä–æ–≤—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: ${handoff.estimatedPCs} —à—Ç.\n   - –ò–≥—Ä–æ–≤—ã–µ –º—ã—à–∏: ${handoff.estimatedPCs} —à—Ç.\n   - –ì–∞—Ä–Ω–∏—Ç—É—Ä—ã: ${handoff.estimatedPCs} —à—Ç.\n   - –ö–æ–≤—Ä–∏–∫–∏: ${handoff.estimatedPCs} —à—Ç.\n\n2. **–£—Å–ª–æ–≤–∏—è –ø–æ—Å—Ç–∞–≤–∫–∏:**\n   - –û–ø—Ç–æ–≤–∞—è —Ü–µ–Ω–∞: —Å–æ —Å–∫–∏–¥–∫–æ–π 25%\n   - –î–æ—Å—Ç–∞–≤–∫–∞: –±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 500 000 —Ä—É–±\n   - –ì–∞—Ä–∞–Ω—Ç–∏—è: 2 –≥–æ–¥–∞\n   - –ó–∞–º–µ–Ω–∞ –ø–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏: –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤\n\n3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Å–µ—Ç–µ–π:**\n   ${handoff.isChain ? '- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ 5% –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∫–ª—É–±–æ–≤\\n   - –ï–¥–∏–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ –≤—Å–µ —Ñ–∏–ª–∏–∞–ª—ã\\n   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä' : '- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–∞'}\n\n**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:** ${handoff.dealPotential.toLocaleString('ru-RU')} —Ä—É–±.\n\n**–ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞:**\n–¢–µ–ª: +7 (495) 123-45-67\nEmail: sales@darkproject.ru\n`\n};\n\n// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ\nconst tz = {\n  title: `–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è ${handoff.leadName}`,\n  content: `\n**–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï**\n\n1. **–û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç: ${handoff.estimatedPCs}\n   - –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è: ${handoff.isChain ? '–°–µ—Ç–µ–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∫–ª—É–±' : '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∫–ª—É–±'}\n   - –§–∏–ª–∏–∞–ª–æ–≤: ${handoff.branchCount}\n\n2. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏:**\n   - –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å RGB –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π\n   - –ò–≥—Ä–æ–≤—ã–µ –º—ã—à–∏ —Å DPI 3200+\n   - –ì–∞—Ä–Ω–∏—Ç—É—Ä—ã —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º\n   - –ö–æ–≤—Ä–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º XL\n\n3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏\n   - –ü–û –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–∏—Ñ–µ—Ä–∏–µ–π\n   - –ó–∞–ø–∞—Å–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç—ã (10% –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞)\n`\n};\n\nreturn [{\n  json: {\n    ...handoff,\n    documents: {\n      kp: kp,\n      tz: tz\n    }\n  }\n}];"
      }
    },
    {
      "id": "notify-supplier-telegram-001",
      "name": "Notify Supplier Telegram",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [1460, 250],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $env.TELEGRAM_SUPPLIER_CHAT_ID }}",
        "text": "={{ `üî• <b>–ì–û–†–Ø–ß–ò–ô –õ–ò–î!</b>\\n\\nüè¢ –ö–ª—É–±: ${$json.leadName}\\nüìç –ì–æ—Ä–æ–¥: ${$json.city}\\nüë§ –ö–æ–Ω—Ç–∞–∫—Ç: ${$json.contactName}\\nüì± –¢–µ–ª–µ—Ñ–æ–Ω: ${$json.phone}\\nüíº –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–¥–µ–ª–∫–∏: ${$json.dealPotential.toLocaleString('ru-RU')} —Ä—É–±\\nüîó –°–µ—Ç—å: ${$json.isChain ? '–î–∞ (' + $json.branchCount + ' —Ñ–∏–ª–∏–∞–ª–æ–≤)' : '–ù–µ—Ç'}\\n\\nüìÑ –ö–ü –∏ –¢–ó –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ email\\n\\n‚ö°Ô∏è –°–≤—è–∂–∏—Ç–µ—Å—å –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤!` }}",
        "additionalFields": {
          "parse_mode": "HTML",
          "disable_notification": false,
          "reply_markup": {
            "inline_keyboard": [
              [
                {
                  "text": "‚úÖ –í–∑—è–ª –≤ —Ä–∞–±–æ—Ç—É",
                  "callback_data": "take_lead_{{$json.leadId}}"
                },
                {
                  "text": "üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å",
                  "url": "tel:{{$json.phone}}"
                }
              ]
            ]
          }
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_BOT",
          "name": "Telegram Bot"
        }
      }
    },
    {
      "id": "send-email-supplier-001",
      "name": "Send Email to Supplier",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2,
      "position": [1460, 450],
      "parameters": {
        "sendTo": "={{ $env.SUPPLIER_EMAIL }}",
        "subject": "üî• –ì–æ—Ä—è—á–∏–π –ª–∏–¥: {{ $json.leadName }} - {{ $json.city }}",
        "emailType": "html",
        "message": "={{ `<h2>–ì–æ—Ä—è—á–∏–π –ª–∏–¥ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è!</h2>\\n<p><strong>–ö–ª—É–±:</strong> ${$json.leadName}<br>\\n<strong>–ì–æ—Ä–æ–¥:</strong> ${$json.city}<br>\\n<strong>–ö–æ–Ω—Ç–∞–∫—Ç:</strong> ${$json.contactName}<br>\\n<strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <a href='tel:${$json.phone}'>${$json.phone}</a><br>\\n<strong>Email:</strong> ${$json.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}<br>\\n<strong>–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–¥–µ–ª–∫–∏:</strong> ${$json.dealPotential.toLocaleString('ru-RU')} —Ä—É–±<br>\\n<strong>–°–µ—Ç—å:</strong> ${$json.isChain ? '–î–∞ (' + $json.branchCount + ' —Ñ–∏–ª–∏–∞–ª–æ–≤)' : '–ù–µ—Ç'}</p>\\n\\n<h3>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:</h3>\\n<pre>${$json.documents.kp.content}</pre>\\n\\n<h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ:</h3>\\n<pre>${$json.documents.tz.content}</pre>\\n\\n<p style='color: red;'><strong>‚ö° –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤!</strong></p>` }}",
        "options": {
          "allowUnauthorizedCerts": false
        }
      },
      "credentials": {
        "smtp": {
          "id": "SMTP_SERVER",
          "name": "SMTP Server"
        }
      },
      "continueOnFail": true
    },
    {
      "id": "update-lead-status-001",
      "name": "Update Lead Status",
      "type": "n8n-nodes-base.bitrix24",
      "typeVersion": 1,
      "position": [1660, 350],
      "parameters": {
        "resource": "lead",
        "operation": "update",
        "leadId": "={{ $json.leadId }}",
        "updateFields": {
          "STATUS_ID": "IN_PROCESS",
          "COMMENTS": "={{ $json.comments + '\\n\\n[' + new Date().toISOString() + '] –ü–µ—Ä–µ–¥–∞–Ω –ø–æ—Å—Ç–∞–≤—â–∏–∫—É. –ö–ü –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.' }}"
        }
      },
      "credentials": {
        "bitrix24Api": {
          "id": "BITRIX24_CRM",
          "name": "Bitrix24 CRM"
        }
      }
    },
    {
      "id": "log-handoff-001",
      "name": "Log Handoff",
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [1860, 350],
      "parameters": {
        "operation": "set",
        "key": "={{ `handoff:hot:${$json.leadId}:${Date.now()}` }}",
        "value": "={{ JSON.stringify($json) }}",
        "expire": true,
        "ttl": 2592000
      },
      "credentials": {
        "redis": {
          "id": "REDIS_INTERNAL",
          "name": "Redis Internal"
        }
      }
    },
    {
      "id": "create-task-001",
      "name": "Create Follow-up Task",
      "type": "n8n-nodes-base.bitrix24",
      "typeVersion": 1,
      "position": [2060, 350],
      "parameters": {
        "resource": "task",
        "operation": "create",
        "title": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≥–æ—Ä—è—á–µ–≥–æ –ª–∏–¥–∞ {{ $json.leadName }}",
        "description": "={{ `–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –≥–æ—Ä—è—á–µ–≥–æ –ª–∏–¥–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É.\\n\\n–ö–ª—É–±: ${$json.leadName}\\n–ì–æ—Ä–æ–¥: ${$json.city}\\n–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª: ${$json.dealPotential.toLocaleString('ru-RU')} —Ä—É–±\\n\\n–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º –∏ —É–∑–Ω–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤.` }}",
        "additionalFields": {
          "deadline": "={{ new Date(Date.now() + 24*60*60*1000).toISOString() }}",
          "responsible_id": "={{ $env.SALES_MANAGER_ID }}",
          "crm": {
            "lead": ["{{ $json.leadId }}"]
          }
        }
      },
      "credentials": {
        "bitrix24Api": {
          "id": "BITRIX24_CRM",
          "name": "Bitrix24 CRM"
        }
      }
    },
    {
      "id": "complete-001",
      "name": "Complete",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [2260, 350],
      "parameters": {
        "functionCode": "const result = {\n  success: true,\n  workflow: 'WF-05',\n  action: 'hot_lead_handoff',\n  leadId: $json.leadId,\n  leadName: $json.leadName,\n  supplierNotified: true,\n  documentsGenerated: true,\n  taskCreated: true,\n  timestamp: new Date().toISOString()\n};\n\nconsole.log(`Hot lead handoff completed for ${result.leadName}`);\n\nreturn [{ json: result }];"
      }
    },
    {
      "id": "error-trigger-001",
      "name": "Error Trigger",
      "type": "n8n-nodes-base.errorTrigger",
      "typeVersion": 1,
      "position": [260, 700],
      "parameters": {}
    },
    {
      "id": "handle-error-001",
      "name": "Handle Error",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [460, 700],
      "parameters": {
        "functionCode": "const error = {\n  workflow: 'WF-05 Hot Lead Handoff',\n  timestamp: new Date().toISOString(),\n  error: $json.error?.message || 'Unknown error',\n  node: $json.error?.node?.name || 'Unknown',\n  leadId: $node['Prepare Handoff Data']?.json?.leadId || 'Unknown'\n};\n\nconsole.error('WF-05 Error:', error);\n\nreturn [{ json: error }];"
      }
    },
    {
      "id": "notify-error-001",
      "name": "Notify Error",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [660, 700],
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $env.TELEGRAM_ADMIN_CHAT_ID }}",
        "text": "={{ `‚ùå <b>WF-05 Hot Lead Handoff Error</b>\\n\\nüî¥ Error: ${$json.error}\\nüìç Node: ${$json.node}\\nüÜî Lead ID: ${$json.leadId}\\nüïê Time: ${new Date($json.timestamp).toLocaleString('ru-RU')}` }}",
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_BOT",
          "name": "Telegram Bot"
        }
      }
    }
  ],
  "connections": {
    "Bitrix24 Lead Status Change": {
      "main": [[{"node": "Merge Triggers", "type": "main", "index": 0}]]
    },
    "Manual Trigger": {
      "main": [[{"node": "Merge Triggers", "type": "main", "index": 1}]]
    },
    "Merge Triggers": {
      "main": [[{"node": "Check Hot Lead Status", "type": "main", "index": 0}]]
    },
    "Check Hot Lead Status": {
      "main": [
        [{"node": "Get Lead Details", "type": "main", "index": 0}],
        []
      ]
    },
    "Get Lead Details": {
      "main": [[{"node": "Prepare Handoff Data", "type": "main", "index": 0}]]
    },
    "Prepare Handoff Data": {
      "main": [[{"node": "Generate Documents", "type": "main", "index": 0}]]
    },
    "Generate Documents": {
      "main": [[
        {"node": "Notify Supplier Telegram", "type": "main", "index": 0},
        {"node": "Send Email to Supplier", "type": "main", "index": 0}
      ]]
    },
    "Notify Supplier Telegram": {
      "main": [[{"node": "Update Lead Status", "type": "main", "index": 0}]]
    },
    "Send Email to Supplier": {
      "main": [[{"node": "Update Lead Status", "type": "main", "index": 0}]]
    },
    "Update Lead Status": {
      "main": [[{"node": "Log Handoff", "type": "main", "index": 0}]]
    },
    "Log Handoff": {
      "main": [[{"node": "Create Follow-up Task", "type": "main", "index": 0}]]
    },
    "Create Follow-up Task": {
      "main": [[{"node": "Complete", "type": "main", "index": 0}]]
    },
    "Error Trigger": {
      "main": [[{"node": "Handle Error", "type": "main", "index": 0}]]
    },
    "Handle Error": {
      "main": [[{"node": "Notify Error", "type": "main", "index": 0}]]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": 120,
    "timezone": "Europe/Moscow"
  },
  "version": 2,
  "id": "wf-05-hot-lead-handoff",
  "meta": {
    "templateCredsSetupCompleted": true,
    "description": "Handles hot lead handoff to supplier with document generation, notifications, and follow-up tasks",
    "version": "1.0.0"
  },
  "tags": [
    {
      "id": "1",
      "name": "production"
    },
    {
      "id": "6",
      "name": "sales"
    }
  ]
}