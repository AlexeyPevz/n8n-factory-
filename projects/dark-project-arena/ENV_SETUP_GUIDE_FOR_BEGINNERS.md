# üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Dark Project Arena
## –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö - –∫–∞–∫ –¥–ª—è –ø—è—Ç–∏–∫–ª–∞—Å—Å–Ω–∏–∫–∞

> üìö **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
> - –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MTProto —Å–º. [MTPROTO_SETUP.md](./MTPROTO_SETUP.md)
> - –î–ª—è Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–º. [docker-compose.example.yml](./docker-compose.example.yml)
> - –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Sheets —Å–º. [GOOGLE_SHEETS_SETUP_GUIDE.md](./GOOGLE_SHEETS_SETUP_GUIDE.md)

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –∏–≥—Ä–∞–µ—Ç–µ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—É—é –∏–≥—Ä—É, –≥–¥–µ –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Å–≤–æ—ë –∏–º—è, –≤—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è - —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Ç–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã Dark Project Arena.

–û–Ω–∏ –Ω—É–∂–Ω—ã —á—Ç–æ–±—ã:
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–Ω–∞–ª–∞, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
- –ú–æ–≥–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É Bitrix24
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ –¥–ª—è –∫–∞—Ä—Ç –∏ AI
- –ó–Ω–∞–ª–∞ ID –≤–∞—à–∏—Ö workflow –≤ n8n

---

## üìÅ –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∞–π–ª .env?
–≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –û–Ω –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ".env" (—Å —Ç–æ—á–∫–æ–π –≤ –Ω–∞—á–∞–ª–µ).

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞** `/workspace/projects/dark-project-arena/`

2. **–ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª** `.env.example` - —ç—Ç–æ —à–∞–±–ª–æ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ:**
   - –í Windows: –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí –í—Å—Ç–∞–≤–∏—Ç—å
   - –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `cp .env.example .env`

4. **–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∫–æ–ø–∏—é** –∏–∑ `.env.example` –≤ `.env`
   - –í–Ω–∏–º–∞–Ω–∏–µ: —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ `.env` (—Å —Ç–æ—á–∫–æ–π, –±–µ–∑ .example)

5. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª .env** –≤ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–ë–ª–æ–∫–Ω–æ—Ç, VS Code, nano)

---

## üìù –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö - –ü–û –ü–û–†–Ø–î–ö–£

### üîß –ë–ª–æ–∫ 1: ID –≤–∞—à–∏—Ö Workflow –≤ n8n

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ workflow –≤ n8n, –≤–∞–º –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö ID:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ n8n** (–æ–±—ã—á–Ω–æ http://localhost:5678)
2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ workflow** –∏–∑ –ø–∞–ø–∫–∏ `/workflows/`
3. **–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É:**
   ```
   http://localhost:5678/workflow/abc123def456
                                   ‚Üë –≤–æ—Ç —ç—Ç–æ—Ç ID
   ```
4. **–í—Å—Ç–∞–≤—å—Ç–µ ID –≤ —Ñ–∞–π–ª .env:**
   ```bash
   WF_01_WORKFLOW_ID=abc123def456
   WF_02_WORKFLOW_ID=ghi789jkl012
   # –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 6 workflow
   ```

### üìä –ë–ª–æ–∫ 2: Google Sheets

1. **–°–æ–∑–¥–∞–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://sheets.new
   - –ù–∞–∑–æ–≤–∏—Ç–µ "Dark Project Arena - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:**
   ```
   https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit
                                          ‚Üë –≤–æ—Ç —ç—Ç–æ—Ç –¥–ª–∏–Ω–Ω—ã–π ID
   ```

3. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ .env:**
   ```bash
   GOOGLE_SHEET_ID=1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms
   ```

### üí¨ –ë–ª–æ–∫ 3: Telegram —á–∞—Ç—ã

–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å 3 –≥—Ä—É–ø–ø—ã –≤ Telegram –∏ –ø–æ–ª—É—á–∏—Ç—å –∏—Ö ID:

1. **–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—ã –≤ Telegram:**
   - "Dark Project - –ê–¥–º–∏–Ω—ã" (–¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
   - "Dark Project - –ü—Ä–æ–¥–∞–∂–∏" (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º)
   - "Dark Project - –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏" (–¥–ª—è –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤)

2. **–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ @RawDataBot –≤ –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É**

3. **–ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥—Ä—É–ø–ø–µ:**
   ```json
   "chat": {
     "id": -1001234567890,  ‚Üê –≤–æ—Ç —ç—Ç–æ—Ç ID –Ω—É–∂–µ–Ω
     "title": "Dark Project - –ê–¥–º–∏–Ω—ã",
     "type": "supergroup"
   }
   ```

4. **–í—Å—Ç–∞–≤—å—Ç–µ ID –≤ .env:**
   ```bash
   TELEGRAM_ADMIN_CHAT_ID=-1001234567890
   TELEGRAM_SALES_CHAT_ID=-1001234567891
   TELEGRAM_SUPPLIER_CHAT_ID=-1001234567892
   ```

‚ö†Ô∏è **–í–ê–ñ–ù–û**: ID –≥—Ä—É–ø–ø –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –º–∏–Ω—É—Å–∞! –ù–µ –∑–∞–±—É–¥—å—Ç–µ –µ–≥–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å!

### üè¢ –ë–ª–æ–∫ 4: Bitrix24

1. **–í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à Bitrix24**

2. **–ü–æ–ª—É—á–∏—Ç–µ webhook:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º ‚Üí –î—Ä—É–≥–æ–µ ‚Üí –í—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –≤–µ–±—Ö—É–∫"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: CRM (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤–µ–±—Ö—É–∫–∞:**
   ```
   https://your-company.bitrix24.ru/rest/1/abc123xyz789/
   ```

4. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ .env:**
   ```bash
   BITRIX24_WEBHOOK_URL=https://your-company.bitrix24.ru/rest/1/abc123xyz789/
   ```
   ‚ö†Ô∏è **–í–ê–ñ–ù–û**: URL –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `/` (—Å–ª—ç—à)!

5. **–ù–∞–π–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
   - –í –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—É–¥–µ—Ç: `/company/personal/user/5/`
   - –ß–∏—Å–ª–æ 5 - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   
   ```bash
   SALES_MANAGER_ID=5
   ACCOUNT_MANAGER_ID=7
   ```

### üó∫Ô∏è –ë–ª–æ–∫ 5: API –∫–ª—é—á–∏ –¥–ª—è –∫–∞—Ä—Ç

#### Yandex Maps:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developer.tech.yandex.ru/
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å –∞–∫–∫–∞—É–Ω—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –¥–ª—è "JavaScript API –∏ HTTP –ì–µ–æ–∫–æ–¥–µ—Ä"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á:
   ```bash
   YANDEX_MAPS_API_KEY=12345678-1234-1234-1234-123456789012
   ```

#### 2GIS:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://dev.2gis.ru/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
4. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á API:
   ```bash
   TWOGIS_API_KEY=rujrdp1234
   ```

### ü§ñ –ë–ª–æ–∫ 6: OpenAI (–¥–ª—è AI –∞–≥–µ–Ω—Ç–∞)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://platform.openai.com/
2. –í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API keys
4. Create new secret key
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!):
   ```bash
   OPENAI_API_KEY=sk-proj-abcdefghijklmnopqrstuvwxyz123456789
   ```

### üìß –ë–ª–æ–∫ 7: Email –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

–£–∫–∞–∂–∏—Ç–µ email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤:
```bash
SUPPLIER_EMAIL=sales@your-supplier.com
```

### üîê –ë–ª–æ–∫ 8: Telegram MTProto (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)

–≠—Ç–æ —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å, –Ω–æ —è –æ–±—ä—è—Å–Ω—é –ø–æ—à–∞–≥–æ–≤–æ:

1. **–ü–æ–ª—É—á–∏—Ç–µ API credentials:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://my.telegram.org
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   - –í—ã–±–µ—Ä–∏—Ç–µ "API development tools"
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
     - App title: Dark Project Bot
     - Short name: darkprojectbot
     - Platform: Other
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
     ```bash
     TELEGRAM_API_ID=12345678
     TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
     ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ MTProto —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   MTPROTO_API_URL=http://localhost:5000
   MTPROTO_API_TOKEN=my-secret-token-12345
   ```

### üìÆ –ë–ª–æ–∫ 9: Email –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å email:

–î–ª—è Gmail:
```bash
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password  # –ù–ï –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å! –°–º. –Ω–∏–∂–µ
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å App Password –¥–ª—è Gmail:**
1. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ https://myaccount.google.com/apppasswords
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è "Mail"
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è

### üí¨ –ë–ª–æ–∫ 10: WhatsApp Business (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å WhatsApp Business API:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Facebook Developers:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developers.facebook.com/
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∏–ø–∞ "Business"
   - –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç "WhatsApp"

2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞:**
   ```bash
   WHATSAPP_BUSINESS_TOKEN=EAABhsjd...  # –í–∞—à —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
   ```

3. **–ù–∞–π–¥–∏—Ç–µ Phone Number ID:**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö WhatsApp ‚Üí API Setup
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Phone number ID
   ```bash
   WHATSAPP_BUSINESS_PHONE_ID=123456789012345
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ webhook:**
   ```bash
   WHATSAPP_WEBHOOK_VERIFY_TOKEN=my-secret-verify-token-12345
   ```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –î–ª—è —Ä–∞–±–æ—Ç—ã WhatsApp —Ç—Ä–µ–±—É–µ—Ç—Å—è:
- –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–∑–Ω–µ—Å –∞–∫–∫–∞—É–Ω—Ç
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π webhook –¥–ª—è –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (https) –¥–ª—è webhook URL

### üóÑÔ∏è –ë–ª–æ–∫ 11: Redis (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π)

Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—è–º–∏.

**–î–ª—è Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
REDIS_HOST=redis      # –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑ docker-compose
REDIS_PORT=6379       # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç
REDIS_CACHE_TTL=86400 # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–µ—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (24 —á–∞—Å–∞)
```

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
REDIS_HOST=localhost  # –ò–ª–∏ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Redis —Å–µ—Ä–≤–µ—Ä–∞
REDIS_PORT=6379
REDIS_CACHE_TTL=86400
```

**–ó–∞–ø—É—Å–∫ Redis —á–µ—Ä–µ–∑ Docker:**
```bash
docker run -d --name redis -p 6379:6379 redis:alpine
```

### üß† –ë–ª–æ–∫ 12: Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞)

Qdrant –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã AI –∞–≥–µ–Ω—Ç–∞ –ø—Ä–æ–¥–∞–∂ (WF-04). –í –Ω—ë–º —Ö—Ä–∞–Ω–∏—Ç—Å—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö.

**–î–ª—è Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
QDRANT_HOST=qdrant    # –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑ docker-compose
QDRANT_PORT=6333      # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç
QDRANT_API_KEY=       # –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
QDRANT_HOST=localhost # –ò–ª–∏ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Qdrant —Å–µ—Ä–≤–µ—Ä–∞
QDRANT_PORT=6333
QDRANT_API_KEY=
```

**–ó–∞–ø—É—Å–∫ Qdrant —á–µ—Ä–µ–∑ Docker:**
```bash
docker run -d --name qdrant -p 6333:6333 qdrant/qdrant
```

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Qdrant –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `dark_project_kb`
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –∏–∑ –ø–∞–ø–∫–∏ `/knowledge-base/`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ http://localhost:6333/dashboard

### ‚è∞ –ë–ª–æ–∫ 13: –†–∞–±–æ—á–∏–µ —á–∞—Å—ã (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google Sheets)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ —Ç–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —á–µ—Ä–µ–∑ Google Sheets.

–í –ª–∏—Å—Ç–µ "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" –≤–∞—à–µ–π —É–ø—Ä–∞–≤–ª—è—é—â–µ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:
- `WORK_HOURS_START` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 9)
- `WORK_HOURS_END` - –∫–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 18)
- `WORK_DAYS_START` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–π –Ω–µ–¥–µ–ª–∏ (1 = –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
- `WORK_DAYS_END` - –∫–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–π –Ω–µ–¥–µ–ª–∏ (5 = –ø—è—Ç–Ω–∏—Ü–∞)

–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç —á–µ—Ä–µ–∑ workflow "Google Sheets Sync".

---

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ .env

–í–∞—à –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```bash
# ===== WORKFLOW IDs =====
WF_01_WORKFLOW_ID=abc123def456
WF_02_WORKFLOW_ID=ghi789jkl012
WF_03_WORKFLOW_ID=mno345pqr678
WF_04_WORKFLOW_ID=stu901vwx234
WF_05_WORKFLOW_ID=yza567bcd890
WF_06_WORKFLOW_ID=efg123hij456

# ===== GOOGLE SHEETS =====
GOOGLE_SHEET_ID=1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms

# ===== TELEGRAM =====
TELEGRAM_ADMIN_CHAT_ID=-1001234567890
TELEGRAM_SALES_CHAT_ID=-1001234567891
TELEGRAM_SUPPLIER_CHAT_ID=-1001234567892

# ===== BITRIX24 =====
BITRIX24_WEBHOOK_URL=https://your-company.bitrix24.ru/rest/1/abc123xyz789/
SALES_MANAGER_ID=5
ACCOUNT_MANAGER_ID=7

# ===== API KEYS =====
YANDEX_MAPS_API_KEY=12345678-1234-1234-1234-123456789012
TWOGIS_API_KEY=rujrdp1234
OPENAI_API_KEY=sk-proj-abcdefghijklmnopqrstuvwxyz123456789

# ===== EMAIL =====
SUPPLIER_EMAIL=sales@your-supplier.com

# ===== TELEGRAM MTPROTO =====
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
MTPROTO_API_URL=http://localhost:5000
MTPROTO_API_TOKEN=my-secret-token-12345

# ===== WHATSAPP BUSINESS =====
WHATSAPP_BUSINESS_TOKEN=EAABhsjd...your-token
WHATSAPP_BUSINESS_PHONE_ID=123456789012345
WHATSAPP_WEBHOOK_VERIFY_TOKEN=my-verify-token
```

---

## üìç –®–∞–≥ 4: –ì–¥–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª .env?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–ª—è Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∏ n8n
–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ø–∞–ø–∫–µ –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ docker-compose:
```
/home/user/n8n/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env              ‚Üê –∑–¥–µ—Å—å
‚îî‚îÄ‚îÄ data/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–ª—è –æ–±—ã—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ n8n
–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω–µ–π –ø–∞–ø–∫–µ n8n:
```
~/.n8n/
‚îú‚îÄ‚îÄ .env              ‚Üê –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ nodes/
‚îî‚îÄ‚îÄ credentials/
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å n8n (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. Settings ‚Üí Environment Variables
3. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## üîí –®–∞–≥ 5: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –û–ß–ï–ù–¨ –í–ê–ñ–ù–û:

1. **–ù–ò–ö–û–ì–î–ê –Ω–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ .env —Ñ–∞–π–ª –≤ Git/GitHub!**
2. **–î–æ–±–∞–≤—å—Ç–µ .env –≤ .gitignore:**
   ```bash
   echo ".env" >> .gitignore
   ```

3. **–•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ** (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤)

4. **–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ .env —Ñ–∞–π–ª –ø–æ email –∏–ª–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º**

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

---

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

### –û—à–∏–±–∫–∞: "Environment variable X not found"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∑–∞–¥–∞–Ω–∞ –∏–ª–∏ n8n –µ—ë –Ω–µ –≤–∏–¥–∏—Ç
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (—Ä–µ–≥–∏—Å—Ç—Ä –≤–∞–∂–µ–Ω!)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ n8n –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env

### –û—à–∏–±–∫–∞: "Invalid API key"
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –∏—Å—Ç—ë–∫ —Å—Ä–æ–∫
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∫–ª—é—á
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫–ª—é—á –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ —Å–µ—Ä–≤–∏—Å–∞

### –û—à–∏–±–∫–∞: "Chat not found" –≤ Telegram
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID —á–∞—Ç–∞ –∏–ª–∏ –±–æ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–Ω—É—Å –≤ –Ω–∞—á–∞–ª–µ ID –≥—Ä—É–ø–ø—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "Bitrix24 webhook error"
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –∏–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª—ç—à –≤ –∫–æ–Ω—Ü–µ URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞ –≤ Bitrix24

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é** - —á–∞—Å—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–ø–µ—á–∞—Ç–∫–µ
2. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ n8n** - —Ç–∞–º –æ–±—ã—á–Ω–æ –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
4. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º—É–º–∞** - —Å–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –í—Å—ë –ª–∏ –≥–æ—Ç–æ–≤–æ?

- [ ] –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
- [ ] –í—Å–µ ID workflow –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Google Sheets ID —É–∫–∞–∑–∞–Ω
- [ ] –í—Å–µ 3 Telegram chat ID –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (—Å –º–∏–Ω—É—Å–∞–º–∏!)
- [ ] Bitrix24 webhook URL –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ /
- [ ] API –∫–ª—é—á–∏ Yandex –∏ 2GIS –ø–æ–ª—É—á–µ–Ω—ã –∏ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã
- [ ] OpenAI –∫–ª—é—á –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å sk-
- [ ] Email –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —É–∫–∞–∑–∞–Ω
- [ ] Telegram API credentials –ø–æ–ª—É—á–µ–Ω—ã
- [ ] Redis –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ: `redis-cli ping`)
- [ ] Qdrant –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ: http://localhost:6333/dashboard)
- [ ] –ö–æ–ª–ª–µ–∫—Ü–∏—è `dark_project_kb` —Å–æ–∑–¥–∞–Ω–∞ –≤ Qdrant
- [ ] –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ Qdrant
- [ ] Google Sheets —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏—Å—Ç "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [ ] –§–∞–π–ª .env –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore
- [ ] n8n –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è .env

–ï—Å–ª–∏ –≤—Å–µ –≥–∞–ª–æ—á–∫–∏ —Å—Ç–æ—è—Ç - –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! –í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É! üéâ